<!DOCTYPE html>

<script>
  function update(){
    document.getElementById('text').value = potatoCount
    document.getElementById('amountAutoClick').innerHTML = "You own " + autoClick + " Auto Clickers";
    document.getElementById('costAutoClick').innerHTML = ((autoClick+1) * 15 ) + " Potatoes";
  }
  var potatoCount = 0 // Stores variable for potatoes
  var autoClick = 0 // Stores variable for autoclicker

  function timer(){
      potatoCount = potatoCount + autoClick;
      update()
  }
 

  setInterval(timer, 1000)
</script>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Potato Clicker</title>

    <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico"> <!-- Links the favicon!-->

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@900&display=swap" rel="stylesheet"> <!-- Links the font used from google fonts-->

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous"> <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script> <!-- Bootstrap js -->

    <link rel="stylesheet" href="style.css"> <!-- Links our stylesheet-->
    <script src="script.js"></script> <!-- Links our java script file-->

</head>
<body>
  <audio src="lobby.mp3" autoplay></audio>

  <div class = "potato-class">
    <audio id="sound1" src="pop.mp3" preload="auto"></audio><a href="#" onclick="document.getElementById('sound1').play(); add()"><img src="potato.png"></a>
    <div class="counter">
      <h1>YOU GOT:</h1>
      <input type="text" id="text" disabled style="text-align:center;">
      <h1>POTATOES</h1>
      <button type="button" class="btn btn-outline-light"><a href="#" onClick="back()">Back</a></button>
      <button type="button" class="btn btn-outline-light"><a href="#" onClick="save()">Save</a></button>
      <button type="button" class="btn btn-outline-light"><a href="#" onClick="reset()">Reset</a></button>
      <button type="button" class="btn btn-outline-light"><a href="#" onClick="load()">Load</a></button>
      <br><br>
      <button type="button" class="btn btn-outline-light"><a href="#" onClick="buyAutoClicker()">Buy auto clicker</a></button>
      <p id="costAutoClick"> 15 Potatoes</p>
      <p id="amountAutoClick"> You own 0 Auto Clickers</p>
    </div>

    <div class="shop">
      <h1 id="shop-title">Shop</h1>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <a href="recipe-1.html" onclick="reducePotato(50); save(); return confirm('50 potates have been deducted. Proceed to recipe 1~');"><h3>Recipe 1 - 50 potates </h3></a>
          </div>
          <div class="col-md-12">
            <a href="recipe-2.html" onclick="reducePotato(100); save(); return confirm('100 potates have been deducted. Proceed to recipe 2~');"><h3>Recipe 2 - 100 potates</h3></a>
          </div>
          <div class="col-md-12">
            <a href="recipe-3.html" onclick="reducePotato(150); save(); return confirm('150 potates have been deducted. Proceed to recipe 3~');"><h3>Recipe 3 - 150 potates</h3></a>
          </div>
          <div class="col-md-12">
            <a href="recipe-4.html" onclick="reducePotato(200); save(); return confirm('200 potates have been deducted. Proceed to recipe 4~');"><h3>Recipe 4 - 200 potates</h3></a>
          </div>
          <div class="col-md-12">
            <a href="recipe-5.html" onclick="reducePotato(250); save(); return confirm('250 potates have been deducted. Proceed to recipe 5~');"><h3>Recipe 5 - 250 potates</h3></a>
          </div>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
          <br>
        </div>
      </div>
      <div class="potato-info">
        <h1 id="potato-title">Why should you eat potatoes?</h1>
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
          <div class="carousel-inner">
            <div class="carousel-item active why-potato">
              <h3>Potatoes are cost effective</h3>
              <br>
              <p>Potatoes last longer in the pantry than most other vegtables, meaning you can store them for longer without worrying about letting them go bad.
                Moreover, potatoes provide a great return on investment with being the second most nutritional food item per penny (with the skin on).
              </p>
            </div>
            <div class="carousel-item why-potato">
              <h3>Potatoes give essential vitamins and nutrients</h3>
              <br>
              <p>
                Potatoes contain nutrients like magnesium, fiber, potassium, and vitamins c, e, and k.
                Furthermore, they are fat-free, sodium-free, cholestrol-free, and a medium white potato only contain about two grams of sugar.
              </p>
            </div>
            <div class="carousel-item">
              <h3>Potatoes do not harm</h3>
              <br>
              <p>In 2010, one man conducted a study on himself by eating only potatoes for 2 months. At the end of the experiment,
                they found that he lowered his cholesterol by 67, lowered his blood pressure and blood glucose, and lost 21 pounds.
                In addition to this, studies have found that potatoes do not cause obesity, diabetes, or trigger inflammation.
              </p>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>

<script>
  
  load();

  function add() { // Adds to the potato count
    potatoCount = potatoCount + 1
    update()
    var snd = newAudio("pop.mp3");
    snd.play();
    snd.currentTime=0;
  }

  function save() { // Saves the potato count to local storage
      localStorage.setItem("potatoCount", potatoCount)
      localStorage.setItem("autoClick", autoClick)
  }

  function load() { // Loads the potato count back into the game
      potatoCount = localStorage.getItem("potatoCount")
      potatoCount = parseInt(potatoCount)
      
      autoClick = localStorage.getItem("autoClick");
      autoClick = parseInt(autoClick);

      document.getElementById('text').value = potatoCount
      
  }

  function reset() { // resets potato count to 0
      potatoCount = 0;
      autoClick = 0;
      update()
  }

  function reducePotato(value){
      potatoCount = potatoCount - value;
      document.getElementById('text').value = potatoCount
  }

  function buyAutoClicker(){
      if (potatoCount >= ((autoClick+1) * 15)){ // check if player has more potatoes than cost of ac
          potatoCount -= ((autoClick+1) * 15) // remove 15 potatoes
          autoClick = autoClick + 1;
      }
      update()
  }

  function back() {

  }

  function playSound() {
    var snd = newAudio("pop.mp3");
    snd.play();
    snd.currentTime=0;
  }

  
</script>
